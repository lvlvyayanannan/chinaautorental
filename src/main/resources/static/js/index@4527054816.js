/*! Copyright@2008-2017 zuche.com All Rights Reserved.2019-07-24 */
define("",[],function(require,exports,module){require("lom/ref/companyorder_longterm"),require("lom/ref/longterm_firstsupport"),require("lom/ref/ltlconst"),require("lom/ref/ltlfunction")}),define("lom/ref/companyorder_longterm",[],function(require,exports,module){function initLeaseTerm(){$.post(carwlomURL+"/selectVehicle/initLeaseTerm.do",{type:"lease_term"},function(data){if(!ltlcomfunction.exception(data))return!1;$("#vehicleyearDL").children().remove();for(var i=0;i<data.length;i++)if(data&&data[i].leaseTermValue&&"0"!=data[i].leaseTermValue.length){var monthname=data[i].leaseTermName,monthid=data[i].leaseTermValue;if(1!=monthid&&2!=monthid){var monthDd=$("<a class='setComboNameTime' code = '"+monthname+"'deptId='"+monthid+"' >"+monthname+"</a>");monthDd.appendTo($("#vehicleyearDL"))}}})}function clearSessionBean(){$.post(carwlomURL+"/selectVehicle/clearSession.do",{type:"clearSessionBean"},function(data){if(!ltlcomfunction.exception(data))return!1})}function setComboName(nameId,keyId,value,ischange,id){keyId||(keyId=0),$("#"+nameId).val(value),$("#"+nameId).defaultValue=value,"0"!=keyId&&$("#"+keyId).val(id),ischange&&$("#"+nameId).change(),$("#vehicleyearDL").hide(),$("#vehiclebrandDL").hide(),$("#vehiclemodeDL").hide(),$("#newInfoT").hide()}function initLongRentData(){$("input").bind("keypress",function(event){var e=window.event||event;return 13!=(e.keyCode||e.which)}),ltlcomfunction.inputControl(),init()}function init(){clearSessionBean(),clear(),initLeaseTerm()}function clear(){$("#leaseterm_year_name").val("请选择"),$("#leaseterm_year").val(""),$("#longTime_backcityname").val("选择城市"),$("#longcityid").val(""),$("#vehiclebrandname").val("请选择"),$("#vehiclebrand").val(""),$("#vehiclebrandname").attr("disabled","disabled"),$("#vehiclemodename").val("请选择"),$("#vehiclemode").val(""),$("#newInfoT").css("display","none")}function isEmail(val){var pass=0;if(window.RegExp){var tempS="a";new RegExp(tempS).test(tempS)&&(pass=1)}if(!pass)return val.indexOf(".")>2&&val.indexOf("@")>0;var r1=new RegExp("(@.*@)|(\\.\\.)|(@\\.)|(^\\.)"),r2=new RegExp("^[a-zA-Z0-9\\.\\!\\#\\$\\%\\&\\??\\*\\+\\-\\/\\=\\?\\^\\_\\`\\{\\}\\~]*[a-zA-Z0-9\\!\\#\\$\\%\\&\\??\\*\\+\\-\\/\\=\\?\\^\\_\\`\\{\\}\\~]\\@(\\[?)[a-zA-Z0-9\\-\\.]+\\.([a-zA-Z]{2,3})(\\]?)$");return!r1.test(val)&&r2.test(val)}function chooseCity(){$("#newInfoT").hide(),$("#longStoreName").val("请选择门店").removeClass("bluewords"),$("#leaseterm_year").val()>0&&getVehicleMode()}function initLongRentCity(){var url=carwsomURL+"/city/getCityJson.do",citydivide=$("#citydivide").val();"1"==citydivide&&(url+="?ishidechainstore="+citydivide),$.ajax({url:url,data:{cityname:encodeURI("")},type:"post",cache:!1,async:!1,dataType:"jsonp",success:function(data){opt={oldValue:"选择城市",attr:"link-input",data:data,pickCity:"longTime_backcityname",pickCityClick:function(obj){chooseCity(),loadLongDeptData()}},$("#longTime_backcityname").cityPort(opt)}})}function chooseLeaseTerm(){$("#vehiclemodeDL").hide();var city_id=$("#longcityid").val(),store_id=$("#longStoreName").val();if(!city_id)return $("#newInfoT").html("请选择城市"),$("#newInfoT").show(),$("#leaseterm_year_name").val("请选择"),$("#leaseterm_year").val(""),void $("#leaseterm_year_name").removeClass("bluewords");if(!store_id||"请选择门店"==store_id)return $("#newInfoT").html("请选择门店"),$("#newInfoT").show(),$("#leaseterm_year_name").val("请选择"),$("#leaseterm_year").val(""),void $("#leaseterm_year_name").removeClass("bluewords");var nowleaseterm=$("#leaseterm_year").val();city_id&&nowleaseterm>0?getVehicleMode():($("#vehiclebrandname").attr("disabled","disabled"),$("#vehiclemodename").attr("disabled","disabled"),$("#vehiclebrandname").val("请选择"),$("#vehiclebrand").val(""),$("#vehiclemodename").val("其他"),$("#vehiclemode").val(""))}function getVehicleMode(){var city_id=$("#longcityid").val(),brand_xid=($("#leaseterm_year").val(),3);if($("#vehiclemodeDL").children().remove(),"0"==brand_xid){$("<a class='setComboNameModel' code= '其他' deptId='0'>其他</a>").appendTo($("#vehiclemodeDL")),$("#vehiclemodename").val("其他"),$("#vehiclemode").val(""),$("#vehiclemodename").attr("disabled","disabled")}else{if(""==brand_xid)return $("#newInfoT").show(),void $("#newInfoT").html("此城市无品牌，请重新选择");$.ajaxSetup({async:!1}),$.post(carwlomURL+"/selectVehicle/getVehicleModel.do",{type:"mode",city:city_id,term:$("#leaseterm_year").val(),brandId:brand_xid},function(data){if(!ltlcomfunction.exception(data))return!1;if(data&&"0"!=data.length){$("#vehiclemodename").attr("disabled",!1);for(var i=0;i<data.length;i++){var vehicle_model_name=data[i].modelName,vehicle_model_xid=data[i].modelId;$("<a class='setComboNameModel' code = '"+vehicle_model_name+"'deptId='"+vehicle_model_xid+"'>"+vehicle_model_name+"</a>").appendTo($("#vehiclemodeDL"))}}else{$("<a class='setComboNameModel' code= '其他' deptId='0'>其他</a>").appendTo($("#vehiclemodeDL")),$("#vehiclemodename").val("其他"),$("#vehiclemodename")[0].defaultValue="其他",$("#vehiclemodename").removeClass("bluewords"),$("#vehiclemode").val(""),$("#vehiclemodename").attr("disabled","disabled")}})}$(".setComboNameModel").each(function(i,value){$(this).mousedown(function(){setComboName("vehiclemodename","vehiclemode",$(this).attr("code"),!1,$(this).attr("deptId"))})})}function checkVehicleInfo(){var city_id=$("#longcityid").val(),storeId=$("#longStoreId").val(),lease_time=$("#leasetime").val(),lease_term=$("#leaseterm_year").val(),vehiclemode=$("#vehiclemode").val(),vehiclemodename=$("#vehiclemodename").val();return city_id?storeId?ltlcomfunction.isTrimNull(lease_time)?($("#leasetime").val($("#leasetime").attr("default-value")),$("#leasetime").addClass("redwords redbd"),$("#newInfoT").hide(),!1):lease_term<=0?($("#leaseterm_year_name").val($("#leaseterm_year_name").attr("default-value")),$("#leaseterm_year_name").addClass("redwords redbd"),$("#newInfoT").hide(),!1):vehiclemode?($("#cityName").val($("#longTime_backcityname").val()),$("#cityId").val(city_id),$("#storeId").val(storeId),$("#pickupTime").val(lease_time),$("#term").val(lease_term),$("#customVehicleModel").val(vehiclemodename),$("#modelId").val(vehiclemode),$("#newInfoT").hide(),zuche_maskplayer.show("dialog"),!0):($("#vehiclemodename").val($("#vehiclemodename").attr("default-value")),$("#vehiclemodename").addClass("redwords redbd"),$("#newInfoT").hide(),!1):($("#longStoreName").val($("#longStoreName").attr("default-value")),$("#longStoreName").addClass("redwords redbd"),$("#newInfoT").hide(),!1):($("#longTime_backcityname").val($("#longTime_backcityname").attr("default-value")),$("#longTime_backcityname").addClass("redwords redbd"),$("#newInfoT").hide(),!1)}function checkCompanyInput(value){"如个人租车请填个人姓名"==value?($("#company_name").val(""),$("#company_name")[0].style.color="",$("#company_name").addClass("bluewords")):value?value.Tlength()>50?($("#newInfo").html("企业/个人名称输入过长，请重新输入"),$("#newInfo").show(),$("#company_name").select()):($("#company_name")[0].style.color="",$("#company_name").addClass("bluewords")):($("#company_name").val("如个人租车请填个人姓名"),$("#company_name")[0].style.color="#999999",$("#company_name").hasClass("bluewords")&&$("#company_name").removeClass("bluewords"))}function checkNameInput(value){"请输入联系人的姓名"==value?($("#contact").val(""),$("#contact")[0].style.color="",$("#contact").addClass("bluewords")):value?value.Tlength()>50?($("#newInfo").html("联系人输入过长，请重新输入"),$("#newInfo").show(),$("#contact").select()):($("#contact")[0].style.color="",$("#contact").addClass("bluewords")):($("#contact").val("请输入联系人的姓名"),$("#contact")[0].style.color="#999999",$("#contact").hasClass("bluewords")&&$("#contact").removeClass("bluewords"))}function checkPhoneInput(value){"固定电话请按<区号-电话号码>格式输入"==value?($("#contact_mobile").val(""),$("#contact_mobile")[0].style.color="",$("#contact_mobile").addClass("bluewords")):value?($("#contact_mobile")[0].style.color="",$("#contact_mobile").addClass("bluewords")):($("#contact_mobile").val("固定电话请按<区号-电话号码>格式输入"),$("#contact_mobile")[0].style.color="#999999",$("#contact_mobile").hasClass("bluewords")&&$("#contact_mobile").removeClass("bluewords"))}function checkEmailInput(value){"请输入您的Email地址"==value?($("#contact_mail").val(""),$("#contact_mail")[0].style.color="",$("#contact_mail").addClass("bluewords")):value?$("#contact_mail").addClass("bluewords"):($("#contact_mail").val("请输入您的Email地址"),$("#contact_mail")[0].style.color="#999999",$("#contact_mail").hasClass("bluewords")&&$("#contact_mail").removeClass("bluewords"))}function checkStr(str,tf){var flag=!0,checkString="";checkString="2"==tf?"`~!@#$%^&*+-=[]{}\\|;':\",./<>?":"`~!@#$%^&*+=\\|'\",./<>?";for(var j=0;j<checkString.length;j++)if(-1!=str.indexOf(checkString.substring(j,j+1))){"1"==tf?($("#newInfo").html('企业/个人名称不能有非法字符:"'+checkString.substring(j,j+1)+'"'),$("#newInfo").show()):"2"==tf&&($("#newInfo").html('联系人名字不能有非法字符:"'+checkString.substring(j,j+1)+'"'),$("#newInfo").show()),flag=!1;break}return flag}function submitLongTermOrder(){var company_name=$("#company_name").val(),contact_name=$("#contact_name").val(),contact_mobile=$("#contact_mobile").val(),contact_mail=$("#contact_mail").val();if("如个人租车请填个人姓名"==company_name&&(company_name=""),company_name&&company_name.length>0&&"如个人租车请填个人姓名"!=company_name){if(!checkStr(company_name,1))return;if(company_name.Tlength()>50)return}if(contact_name.length<=0||"请输入联系人姓名"==contact_name)return $("#contact_name").val($("#contact_name").attr("default-value")),$("#contact_name").addClass("redwords redbd"),void $("#newInfo").hide();if(contact_name&&contact_name.length>0&&"请输入联系人姓名"!=contact_name){if(!checkStr(contact_name,2))return;if(contact_name.Tlength()>50)return}return contact_mobile.length<=0||"固定电话请按<区号-电话号码>格式输入"==contact_mobile?($("#contact_mobile").val($("#contact_mobile").attr("default-value")),$("#contact_mobile").removeClass("bluewords"),$("#contact_mobile").addClass("redwords redbd").attr("style",""),void $("#newInfo").hide()):commonvalidate.isMobileNew(contact_mobile)||commonvalidate.isTelNew(contact_mobile)?("请输入您的Email地址"==contact_mail&&(contact_mail=""),contact_mail&&!isEmail(contact_mail)?($("#contact_mail").select(),$("#newInfo").html("请填写正确的 email"),void $("#newInfo").show()):($("#companyName").val(company_name),$("#contact").val(contact_name),$("#contactTel").val(contact_mobile),$("#mailAddress").val(contact_mail),$("#cityName").val($("#longTime_backcityname").val()),$("#newInfo").html(""),void $("#selectCarForm").submit())):($("#newInfo").html("请填写正确的手机号"),$("#newInfo").show(),void $("#contact_mobile").select())}var ltlcomfunction=require("public/common/ltlcomfunction"),zuche_maskplayer=require("public/common/szmasklayer"),commonvalidate=require("public/validate/commonvalidate");$("#longTimeRental_backcityname").val(),$("#longRentalcityid").val();$.ajaxSetup({async:!1}),initLongRentData(),initLongRentCity();var origin="${czorigin}";origin&&"from360"==origin&&checkVehicleInfo(),$("#leasetime").calendar({options:{showWeek:!1,minDate:$("#leasetime").val(),maxDate:$("#maxDate").val()},listeners:{onBeforeShow:function(){},onShow:function(){},onChange:function(){}}});$(".setComboNameTime").each(function(i,value){$(this).mousedown(function(){setComboName("leaseterm_year_name","leaseterm_year",$(this).attr("code"),!0,$(this).attr("deptId"))})}),$("#leasetime").focus(function(){$(this).addClass("bluewords")}),$("#leaseterm_year_name").focus(function(){$(this).hasClass("redwords")&&$(this).removeClass("redwords").addClass("bluewords"),$(this).hasClass("redbd")&&$(this).removeClass("redbd")});var LONG_DEPARTMENT={suggdiv:".areaSelection",cityDivId:"",cityId:"6",data:[],onclick:function(){$("#newInfoT").hide(),$("#longStoreName").addClass("bluewords").removeClass("redwords redbd")}},loadLongDeptData=function(){var __longCityId=$("#longcityid").val();LONG_DEPARTMENT.cityId=__longCityId};loadLongDeptData(),$("#longStoreName").focus(function(){if(!$("#longcityid").val())return $("#newInfoT").html("请选择城市"),void $("#newInfoT").show();$("#longStoreName").deptPort(LONG_DEPARTMENT)}),$(".chooseLeaseTermTime").change(function(){chooseLeaseTerm()}),$(".getVehicleModeCar").change(function(){getVehicleMode()}),$("#checkVehicleInfo").click(function(){checkVehicleInfo()}),$(".checkCompanyInput").blur(function(){checkCompanyInput($("#company_name").val())}),$(".checkNameInput").blur(function(){checkNameInput($("#contact_name").val())}),$(".checkPhoneInput").blur(function(){checkPhoneInput($("#contact_mobile").val())}),$(".checkEmailInput").blur(function(){checkEmailInput($("#contact_mail").val())}),String.prototype.Tlength=function(){var arr=this.match(/[^\x00-\xff]/gi);return this.length+(arr?arr.length:0)},$("#submitLongTermOrderInformation").click(function(){submitLongTermOrder()})}),define("public/common/ltlcomfunction",[],function(require,exports,module){var ltlcomfunction={};window.sessionFlag=0,window.exceptionFlag=0;var exceptionForwardUrl=carwlomURL+"/index.jsp";ltlcomfunction.exception=function(data){if(void 0!==window.sessionFlag&&1==window.sessionFlag||void 0!==window.exceptionFlag&&1==window.exceptionFlag)return!1;if(data&&data.sessionOutTime)return message("I00001"),window.sessionFlag=1,window.location.href=exceptionForwardUrl,!1;if(void 0!==data&&data)if("object"==typeof data){if(void 0!==data.sessionOutTime&&data.sessionOutTime)return message("I00001"),window.sessionFlag=1,window.location.href=exceptionForwardUrl,!1;if(void 0!==data.userdata&&-1==data.userdata)return message("E00000"),window.exceptionFlag=1,!1}else if("string"==typeof data&&data&&-1!=data.indexOf("{")){if(data=eval("("+data+")"),void 0!==data.sessionOutTime&&data.sessionOutTime)return message("I00001"),window.sessionFlag=1,window.location.href=exceptionForwardUrl,!1;if(void 0!==data.userdata&&-1==data.userdata)return message("E00000"),window.exceptionFlag=1,!1}return!0},ltlcomfunction.inputControl=function(){$("input").bind("keypress",function(event){var e=window.event||event,code=e.keyCode||e.which;return/[^'^%^&^"^<]/.test(String.fromCharCode(code))}),$("input").bind("paste",function(event){return!/['%&<"]/g.test(window.clipboardData.getData("Text"))}),$("input").bind("dragenter",function(event){return!1}),$("textarea").bind("keypress",function(event){var e=window.event||event,code=e.keyCode||e.which;if(13!=code)return/[^']/.test(String.fromCharCode(code))}),$("textarea").bind("paste",function(event){return!/[']/g.test(window.clipboardData.getData("Text"))}),$("textarea").bind("dragenter",function(event){return!1})},ltlcomfunction.nullOrUdfToEmpty=function(value){return void 0!==value&&value&&"undefined"!=value&&"null"!=value||(value=""),value},ltlcomfunction.isNull=function(value){return!value},ltlcomfunction.isTrimNull=function(value){return!$.trim(value)},ltlcomfunction.check_null=function(ids,names){for(var i=0;i<ids.length;i++){var input=$("#"+ids[i]),temp=input.val();if(temp){var blankLeft=/^\s*/,blankRight=/\s*$/;if(temp=temp.replace(blankLeft,""),!(temp=temp.replace(blankRight,""))){var name=[];return name[0]=names[i],message("E00018",name),input.focus(),!1}}}return!0},module.exports=ltlcomfunction}),define("public/common/szmasklayer",[],function(require,exports,module){zuche_maskplayer={show:function(popID,refresh,monitorId){var popObj=$("#"+popID),popURL=popObj.attr("mask-data"),query=popURL.split("?"),dim=query[1].split("&"),popWidth=dim[0].split("=")[1],method="close";refresh&&(method="closeRefresh"),monitorId||(monitorId="popup"),"0"==popObj.children(".maskclose").length&&popObj.prepend('<a href="javascript:zuche_maskplayer.'+method+"('"+popID+'\')" id="close_'+monitorId+'" class="close maskclose1">&nbsp;</a>'),popObj.addClass("popup_block_show"),popObj.fadeIn().css({width:Number(popWidth)});var msgWidth=popObj.width(),msgHeight=popObj.height(),bgWidth=zuche_maskplayer.myClientWidth(),bgHeight=zuche_maskplayer.myClientHeight(),bgTop=zuche_maskplayer.myScrollTop(),bgLeft=zuche_maskplayer.myScrollLeft(),top=bgTop+Math.round((bgHeight-msgHeight)/2),left=bgLeft+Math.round((bgWidth-msgWidth)/2);popObj.css({position:"absolute",top:top+"px",left:left+"px"}),$("body").append('<div id="fade" class="fade_'+popID+'" style="display:block;"></div>'),$("#fade").css({filter:"alpha(opacity=65)"}).fadeIn(),$("#dialogBtn").click(function(){zuche_maskplayer.close(popID)})},myScrollTop:function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},myScrollLeft:function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0},myClientWidth:function(){return document.documentElement.clientWidth||document.body.clientWidth||0},myClientHeight:function(){return document.documentElement.clientHeight||document.body.clientHeight||0},notifyDialog:function(msg,callback){if(msg){zuche_maskplayer.close(),$(".tempDialog").remove();var dialog=zuche_maskplayer.getDialogBody("notify",msg);$("body").append(dialog),zuche_maskplayer.show("notifyDialog"),"function"==typeof callback&&$(".tempDialog").find(".maskclose").click(function(){callback()})}},notifyDialogHertz:function(msg,callback){if(msg){zuche_maskplayer.close(),$(".tempDialog").remove();var dialog=zuche_maskplayer.getDialogBody("notify",msg);$("body").append(dialog),zuche_maskplayer.show("notifyDialog",!0),"function"==typeof callback&&$(".tempDialog").find(".maskclose").click(function(){callback()})}},notifyDialogBtn:function(msg,callback,btnName){if(msg){$(".tempDialog").remove();var dialog=zuche_maskplayer.getDialogBody("notify",msg);dialog=dialog.replace(/关闭/,btnName),$("body").append(dialog),zuche_maskplayer.show("notifyDialog"),"function"==typeof callback&&$(".tempDialog").find(".maskclose").click(function(){callback()})}},notifyDialogBtnNew:function(msg,callback,btnName){if(msg){zuche_maskplayer.close("notifyDialogBtnNew"),$(".tempDialog").remove();var dialogId="notifyDialogBtnNew",btnValue=btnName,dialog="<div  id='"+dialogId+"' class='tempDialog d_none popup_block' mask-data='#?w=350' style='z-index:1000000'><div class='orderDialog' style='width: 350px;min-height: 150px;'>";dialog+='<h1 class="f18h1 pc_masklayer_b ac">'+"温馨提示"+'</h1><p class="msg_p p10 ac f14 '+"fontBlue"+'" style="word-wrap: break-word;word-break: normal;">'+msg+'</p><p class="ac p10"><input id="dialogBtn" maskclose name="" type="button" value="'+btnValue+'" class="btn_bluewauto white f14w w80 maskclose"></p>',dialog+="</div></div>",$("body").append(dialog),zuche_maskplayer.show("notifyDialogBtnNew"),"function"==typeof callback&&$(".tempDialog").find(".maskclose").click(function(){callback()})}},optConfirm:function(msg,callback){if(msg){zuche_maskplayer.close(),$(".tempDialog").remove();var dialog=zuche_maskplayer.getDialogBody("confirm",msg);$("body").append(dialog),zuche_maskplayer.show("confirmDialog"),"function"==typeof callback&&$("#dialogBtn").click(function(){callback()})}},optConfirm2:function(msg,callback){if(msg){zuche_maskplayer.close(),$(".tempDialog").remove();var dialogId="confirmDialog",dialog="<div  id='"+dialogId+"' class='tempDialog d_none popup_block' mask-data='#?w=350'><div class='orderDialog' style='width: 350px;min-height: 150px;'>";dialog+='<h1 class="f18h1 pc_masklayer_b ac">'+"操作确认"+'</h1><p class="msg_p p10 ac f14 '+"fontRed"+'" style="word-wrap: break-word;word-break: normal;">'+msg+'</p><p class="ac p10"><input id="dialogBtn" maskclose name="" type="button" value="'+"确认"+'" class="btn_bluewauto white f14w w80 maskclose">&nbsp;&nbsp;<input id="closeBtn" maskclose name="" type="button" value="取消" class="btn_graywauto gray f14w w80 maskclose cancelBtn"></p>',dialog+="</div></div>",$("body").append(dialog),zuche_maskplayer.show(dialogId),$(".tempDialog").find("#dialogBtn").click(function(){zuche_maskplayer.close(dialogId),"function"==typeof callback&&callback()}),$(".tempDialog").find(".cancelBtn").click(function(){zuche_maskplayer.close(dialogId)})}},optConfirm3:function(msg,callback){if(msg){zuche_maskplayer.close(),$(".tempDialog").remove();var dialogId="confirmDialog",dialog="<div  id='"+dialogId+"' class='tempDialog d_none popup_block' mask-data='#?w=350'><div class='orderDialog' style='width: 350px;min-height: 150px;'>";dialog+='<h1 class="f18h1 pc_masklayer_b ac">'+"操作确认"+'</h1><p class="msg_p p10 ac f14 '+"fontRed"+'" style="word-wrap: break-word;word-break: normal;">'+msg+'</p><p class="ac p10"><input id="dialogBtn" maskclose name="" type="button" value="'+"重新绑定"+'" class="btn_bluewauto white f14w w80 maskclose">&nbsp;&nbsp;<input id="closeBtn" maskclose name="" type="button" value="取消" class="btn_graywauto gray f14w w80 maskclose cancelBtn"></p>',dialog+="</div></div>",$("body").append(dialog),zuche_maskplayer.show(dialogId),$(".tempDialog").find("#dialogBtn").click(function(){zuche_maskplayer.close(dialogId),"function"==typeof callback&&callback()}),$(".tempDialog").find(".cancelBtn").click(function(){zuche_maskplayer.close(dialogId)})}},optConfirm4:function(msg,callback){if(msg){zuche_maskplayer.close(),$(".tempDialog").remove();var dialogId="confirmDialog",dialog="<div  id='"+dialogId+"' class='tempDialog d_none popup_block' mask-data='#?w=350'><div class='orderDialog' style='width: 350px;min-height: 150px;'>";dialog+='<p class="msg_p p20 ac f16 " style="word-wrap: break-word;word-break: normal;padding-top:32px">'+msg+'</p><p class="ac p10"><input id="closeBtn" maskclose name="" type="button" value="取消" class="bgray f14w w80 maskclose cancelBtn" style="height:30px">&nbsp;&nbsp;<input id="dialogBtn" maskclose name="" type="button" value="'+"继续返回"+'" class="btn_bluewauto gray f14w w80 maskclose"></p>',dialog+="</div></div>",$("body").append(dialog),zuche_maskplayer.show(dialogId),$(".tempDialog").find("#dialogBtn").click(function(){zuche_maskplayer.close(dialogId),"function"==typeof callback&&callback()}),$(".tempDialog").find(".cancelBtn").click(function(){zuche_maskplayer.close(dialogId)})}},errorDialog:function(msg,callback){if(msg){zuche_maskplayer.close(),$(".tempDialog").remove();var dialog=zuche_maskplayer.getDialogBody("error",msg);$("body").append(dialog),zuche_maskplayer.show("errorDialog"),"function"==typeof callback&&$(".tempDialog").find(".maskclose").click(function(){callback()})}},progressDialog:function(msg,callback){$(".tempDialog").remove(),msg||(msg="请稍候..."),zuche_maskplayer.close();var dialog=zuche_maskplayer.getDialogBody("progress",msg);$("body").append(dialog),$("#progressDialog .msg_p").prepend("<img src='https://image.zuchecdn.com/newversion/common/loading.gif'/>"),zuche_maskplayer.show("progressDialog"),"function"==typeof callback&&$(".tempDialog").find(".maskclose").click(function(){callback()})},winxintipsDialog:function(msg,callback){$(".tempDialog").remove(),zuche_maskplayer.close(),msg||(msg='数据配置错误，请拔打 <span class="fontOrange bold">400-616-6666</span> 联系客服');var dialog=zuche_maskplayer.getDialogBody("winxintips",msg);$("body").append(dialog),zuche_maskplayer.show("winxintips"),"function"==typeof callback&&$(".tempDialog").find(".maskclose").click(function(){callback()})},confirmDialog:function(msg,confirmCallback,cancelCallback,monitorId,leftBtnName,rightBtnName){zuche_maskplayer.close(),$(".tempDialog").remove(),monitorId||(monitorId="confirmDialog"),leftBtnName||(leftBtnName="取消"),rightBtnName||(rightBtnName="确定");var dialog='<div id="confirmDialog" class="tempDialog popup_block" mask-data="#?w=350"><div class="orderDialog" style="width:350px;min-height:187px;padding-top:30px;"><h1 class="f18h1 pc_masklayer_b ac black">温馨提示</h1><p class="msg_p p10 ac f12 line_h20">'+msg+'</p><p class="ac p10"><input name="" type="button" value="'+leftBtnName+'" id="cancel_'+monitorId+'" class="btn_graywauto gray f14w w80 maskclose cancelBtn">&nbsp;&nbsp;<input name="" type="button" value="'+rightBtnName+'" id="confirm_'+monitorId+'" class="btn_bluewauto white f14w w80 maskclose confirmBtn"></p></div></div>';$("body").append(dialog),zuche_maskplayer.show("confirmDialog",!1,monitorId),$(".tempDialog").find(".confirmBtn").click(function(){zuche_maskplayer.close("confirmDialog"),"function"==typeof confirmCallback&&confirmCallback()}),$(".tempDialog").find(".cancelBtn").click(function(){zuche_maskplayer.close("confirmDialog"),"function"==typeof cancelCallback&&cancelCallback()})},confirmDialog1:function(msg,callback,monitorId){zuche_maskplayer.close(),$(".tempDialog").remove(),monitorId||(monitorId="confirmDialog");var dialog="<div  id='confirmDialog' class='tempDialog d_none popup_block' mask-data='#?w=350'><div class='orderDialog' style='width: 350px;min-height: 150px;'>"+'<h1 class="f18h1 pc_masklayer_b ac">温馨提示</h1><p class="msg_p p10 ac f14 fontBlue" style="word-wrap: break-word;word-break: normal;">'+msg+'</p><p class="ac p10"><input name="" type="button" id="confirm_'+monitorId+'" value="确定"class="btn_bluewauto white f14w w80 maskclose confirmBtn" ></p></div></div>';$("body").append(dialog),zuche_maskplayer.show("confirmDialog",!1,monitorId),"function"==typeof callback&&$(".tempDialog").find(".confirmBtn").click(function(){zuche_maskplayer.close("confirmDialog"),callback()})},getDialogBody:function(flag,msg){var msgColor="",title="温馨提示",dialogId="notifyDialog",btnValue="关闭";msgColor="fontBlue","error"==flag?(msgColor="fontRed",title="错误信息",dialogId="errorDialog"):"progress"==flag?dialogId="progressDialog":"winxintips"==flag?(dialogId="winxintips",msgColor=""):"confirm"==flag&&(dialogId="confirmDialog",title="操作确认",msgColor="fontRed",btnValue="确认");var dialog="<div  id='"+dialogId+"' class='tempDialog d_none popup_block' mask-data='#?w=350'><div class='orderDialog' style='width: 350px;min-height: 150px;'>";return dialog+='<h1 class="f18h1 pc_masklayer_b ac">'+title+'</h1><p class="msg_p p10 ac f14 '+msgColor+'" style="word-wrap: break-word;word-break: normal;">'+msg+'</p><p class="ac p10"><input id="dialogBtn" maskclose name="" type="button" value="'+btnValue+'" class="btn_bluewauto white f14w w80 maskclose"></p>',dialog+="</div></div>"},close:function(id){if(id){var layerId=".fade_"+id;$(layerId+", #"+id).hide(),$(layerId).remove()}else $("#fade , .popup_block_show").hide(),$("#fade").remove(),$(".popup_block_show").removeClass("popup_block_show")},closeGDMap:function(id,mapobj){if(id){var layerId=".fade_"+id;$(layerId+", .popup_block_show").hide(),$(layerId).remove()}else $("#fade , .popup_block_show").hide(),$("#fade").remove();$(".popup_block_show").removeClass("popup_block_show"),mapobj.destroy(),mapobj=null},closeRefresh:function(id){if(id){var layerId=".fade_"+id;$(layerId+", .popup_block_show").fadeOut(function(){$(layerId).remove()})}else $("#fade , .popup_block_show").fadeOut(function(){$("#fade").remove()});$(".popup_block_show").removeClass("popup_block_show"),window.location.reload()},closeimediate:function(id){if(id){var layerId=".fade_"+id+",.popup_block_show";$(layerId).remove()}else $("#fade").remove()}},$(".poplight[lang^=#]").click(function(){var popID=$(this).attr("data-reveal-id"),popURL=$(this).attr("lang"),query=popURL.split("?"),dim=query[1].split("&"),popWidth=dim[0].split("=")[1];$("#"+popID).fadeIn().css({width:Number(popWidth)}).prepend('<a href="#" class="close _maskclose">&nbsp;</a>');var popMargTop=($("#"+popID).height()+80)/2,popMargLeft=($("#"+popID).width()+80)/2;return $("#"+popID).css({"margin-top":-popMargTop,"margin-left":-popMargLeft}),$("body").append('<div id="fade"></div>'),$("#fade").css({filter:"alpha(opacity=80)"}).fadeIn(),!1}),$(".poplight[data-titile^=#]").click(function(){var popID=$(this).attr("data-reveal-id"),popURL=$(this).attr("data-titile"),query=popURL.split("?"),dim=query[1].split("&"),popWidth=dim[0].split("=")[1];$("#"+popID).fadeIn().css({width:Number(popWidth)}).prepend('<a href="#" class="close _maskclose">&nbsp;</a>');var popMargTop=($("#"+popID).height()+80)/2,popMargLeft=($("#"+popID).width()+80)/2;return $("#"+popID).css({"margin-top":-popMargTop,"margin-left":-popMargLeft}),$("body").append('<div id="fade"></div>'),$("#fade").css({filter:"alpha(opacity=80)"}).fadeIn(),!1}),$("a._maskclose").live("click",function(){return $("#fade , .popup_block").fadeOut(function(){$("#fade, a._maskclose").remove()}),!1}),module.exports=zuche_maskplayer}),define("public/validate/commonvalidate",[],function(require,exports,module){function regExpTest(source,re){var result=!1;return!!source&&(source==re.exec(source)&&(result=!0),result)}var commonValidate={};commonValidate.isMobile=function(val){return/^((1[2-9]{1})+\d{9})$/.test(val)},commonValidate.isMobileNew=function(val){return/^((\(\d{3}\))|(\d{3}\-))?1[2-9]\d{9}$/.test(val)},commonValidate.isTelephone=function(val){return/^((0\d{2,3})-?)(\d{7,8})(-?(\d{1,5}))?$/.test(val)},commonValidate.isTelNew=function(val){return/^(0[0-9]{2,3}\-)?([2-9][0-9]{6,7})+(\-[0-9]{1,4})?$/.test(val)},commonValidate.checkTelphone=function(val){return/^[0-9]+[0-9|;|,|\-]*$/.test(val)},commonValidate.isEmail=function(val){var pass=0;if(window.RegExp){var tempS="a";new RegExp(tempS).test(tempS)&&(pass=1)}if(!pass)return val.indexOf(".")>2&&val.indexOf("@")>0;var r1=new RegExp("(@.*@)|(\\.\\.)|(@\\.)|(^\\.)"),r2=new RegExp("^[a-zA-Z0-9\\.\\!\\#\\$\\%\\&\\??\\*\\+\\-\\/\\=\\?\\^\\_\\`\\{\\}\\~]*[a-zA-Z0-9\\!\\#\\$\\%\\&\\??\\*\\+\\-\\/\\=\\?\\^\\_\\`\\{\\}\\~]\\@(\\[?)[a-zA-Z0-9\\-\\.]+\\.([a-zA-Z]{2,3})(\\]?)$");return!r1.test(val)&&r2.test(val)},commonValidate.isPostcode=function(val){return/^[0-9]\d{5}$/.test(val)},commonValidate.isContainZH=function(val){return/[^\x00-\xff]/g.test(val)},commonValidate.getBytesLength=function(str){return str.replace(/[^\x00-\xff]/g,"xx").length},commonValidate.checkStr=function(str){if(!str)return"不能为空！";for(var checkString="`~!@#$%^&*()+-=[]{}\\|;':\",./<>?",j=0;j<checkString.length;j++)if(str&&-1!=str.indexOf(checkString.substring(j,j+1)))return checkString.substring(j,j+1);return""},commonValidate.checkStrA=function(str){if(!str)return"不能为空！";for(var checkString="`~!@#$%^&*+=\\|'\",./<>?",j=0;j<checkString.length;j++)if(str&&-1!=str.indexOf(checkString.substring(j,j+1)))return checkString.substring(j,j+1);return""},commonValidate.checkWafStr=function(str){var returnVal=null;if(str){for(var checkString="'\\",j=0;j<checkString.length;j++)if(-1!=str.indexOf(checkString.substring(j,j+1)))return checkString.substring(j,j+1);-1!=str.indexOf("--")&&(returnVal="--")}return returnVal},commonValidate.isContainBlank=function(str){var returnVal="";return/\s/.exec(str)&&(returnVal="包含空格"),returnVal},commonValidate.isInteger=function(strValue){return regExpTest(strValue,/\d+/)},commonValidate.isNumeric1=function(strValue){return regExpTest(strValue,/\d*[.]?\d*/g)},commonValidate.checkRentName=function(str){return/^[0-9a-zA-Z]{1,16}$/.test(str)},commonValidate.containBlank=function(str){var flag=!1;if(str)for(var j=0;j<str.length;j++)if(" "==str.substring(j,j+1)){flag=!0;break}return flag},commonValidate.isImage=function(str){return/^.+\.(gif|jpg|bmp|png)$/i.test(str)},commonValidate.isdate=function(intYear,intMonth,intDay){if(isNaN(intYear)||isNaN(intMonth)||isNaN(intDay))return!1;if(intMonth>12||intMonth<1)return!1;if(intDay<1||intDay>31)return!1;if((4==intMonth||6==intMonth||9==intMonth||11==intMonth)&&intDay>30)return!1;if(2==intMonth){if(intDay>29)return!1;if((intYear%100=="0"&&intYear%400!="0"||intYear%4!="0")&&intDay>"28")return!1}return!0},module.exports=commonValidate}),define("lom/ref/longterm_firstsupport",[],function(require,exports,module){var longterm_firstsupport={};$(function(){$(".t_val").each(function(i,inpt){$(inpt).val()||($(inpt).val($(inpt).attr("default-value")),$(this).removeClass("bluewords")),$(inpt).val()&&$(inpt).val()!=$(inpt).attr("default-value")&&$(this).addClass("bluewords"),$(inpt).focus(function(){$(this).val()==$(this).attr("default-value")&&($(this).val(""),$(this).addClass("bluewords").removeClass("redwords redbd"))}).blur(function(){$(this).val()||($(this).val($(this).attr("default-value")),$(this).removeClass("bluewords"))})}),$("#leaseterm_year_name").focus(function(){$("#vehiclemodeDL").hide();var left=$(this).position().left,tops=$(this).position().top,h=$(this).outerHeight();$("#vehicleyearDL").show().css({left:left,top:tops+h}),$(this).attr("t_popup","0"),$(document).bind("click",function(e){var btn_flag=$(e.target).attr("t_popup"),div_flag=$(e.target).closest(".pc_stratum ").hasClass("pc_stratum");"0"==btn_flag||div_flag||$("#vehicleyearDL").hide()})}),$("#longTime_backcityname").focus(function(){$("#vehiclemodeDL").hide(),$("#vehiclebrandDL").hide()}),$("#vehiclemodename").focus(function(){$("#vehiclebrandDL").hide(),$("#vehicleyearDL").hide();var city_id=$("#longcityid").val(),store_id=$("#longStoreName").val(),leasterm_year_id=$("#leaseterm_year_name").val();if(!city_id)return $("#newInfoT").html("请选择城市"),$("#newInfoT").show(),$("#leaseterm_year_name").val("请选择"),$("#leaseterm_year").val(""),void $("#leaseterm_year_name").removeClass("bluewords");if(!store_id||"请选择门店"==store_id)return $("#newInfoT").html("请选择门店"),$("#newInfoT").show(),$("#leaseterm_year_name").val("请选择"),$("#leaseterm_year").val(""),void $("#leaseterm_year_name").removeClass("bluewords");if(!leasterm_year_id||"请选择"==leasterm_year_id)return $("#newInfoT").html("请选择租期"),$("#newInfoT").show(),$("#leaseterm_year_name").val("请选择"),$("#leaseterm_year").val(""),void $("#leaseterm_year_name").removeClass("bluewords");var left=$(this).position().left,tops=$(this).position().top,h=$(this).outerHeight();$("#vehiclemodeDL").show().css({left:left,top:tops+h}),$(this).attr("t_popup","0"),$(document).bind("click",function(e){var btn_flag=$(e.target).attr("t_popup"),div_flag=$(e.target).closest(".pc_stratum ").hasClass("pc_stratum");"0"==btn_flag||div_flag||$("#vehiclemodeDL").hide()})})}),module.exports=longterm_firstsupport}),define("lom/ref/ltlconst",[],function(require,exports,module){var Message=[];Message.E00000="系统出现异常，请联系管理员进行解决。",Message.E00001="会员信息或密码输入错误，请重新输入",Message.E00002="您不是神州租车企业会员，注册企业会员，请致电24小时热线400-616-6666！",Message.I00001="该页面已过期，将自动跳转到首页。",Message.I00002="没有符合您检索条件的车型！",Message.I00003="请选择租期",Message.I00004="请选择城市",Message.I00005="请选择车辆品牌或者价格范围",Message.I00006="请输入姓名和手机号码",Message.I00007="联系电话格式不正确，请重新输入。\n固定电话请按<区号-电话号码>格式输入",Message.I00008="姓名长度不能大于100",Message.I00009="请选择您要租用车辆数",Message.I00010="请选择城市",Message.I00011="请在 车上人员责任险司机处 输入大于5万小于等于100万的任意整数",Message.I00012="请在 车上人员责任险乘客处 输入大于等于1万小于等于100万的任意整数",Message.I00013="请输入您需要的车辆品牌",Message.I00014="请输入您需要的车辆型号",Message.I00015="请输入您需要的车辆数量",Message.I00016="请选择品牌",Message.I00017="请选择",Message.E00018="请输入?。",Message.I00019="Email格式不正确，请重新输入。",Message.I00020="请选择取车日期",Message.E00115="画面参数传递错误，可能是网络不稳定引起，请关闭画面，稍后再试！",WordsInstruction=[],WordsInstruction[1]="神州租车为租赁车辆提供厂家规定的定期保养及车辆自身故障维修服务",WordsInstruction[2]="<strong>交强</strong>：道路交通安全法规定机动车应投保交通事故责任强制保险。<br /><strong>车辆损失</strong>（含尊享服务）：保险公司承担由于发生自然灾害（地震除外）、意外事故、其他保险事故导致的车辆损失或报废；<br /><strong>商业第三者责任</strong>：保险公司承担车辆发生意外事故导致的其他方（第三方）损失；<br /><strong>全车盗抢</strong>：保险公司承担全车被盗窃、被抢劫或被抢夺而造成的损失；<br /><strong>车上人员责任</strong>（司机）：保险公司车辆发生保险事故导致的驾驶员人身伤亡损失；<br /><strong>自燃</strong>：保险公司承担车辆由于自身原因起火造成的车辆损失；<br /><strong>玻璃单独破碎</strong>：保险公司承担车辆玻璃单独爆裂造成的损失；<br /><strong>车身划痕损失险</strong>：保险公司承担车辆的无明显碰撞痕迹的车身划伤损失；<br /><strong>车上人员责任</strong>（乘客）：保险公司承担车辆发生保险事故导致的车上乘客人身伤亡损失。<br />";var ASWordsInstruction=[];ASWordsInstruction[2]="神州租车提供7*24小时全国救援服务，救援热线4006166666",ASWordsInstruction[5]="正常保养和故障维修时提供代步车辆";var LTLOtherVehicleImgUrl;window.onload=function(){LTLOtherVehicleImgUrl=carwrmimageURL+"/newversion/common/othercar.jpg"}}),define("lom/ref/ltlfunction",[],function(require,exports,module){});